import ActionConstants from 'constants/ActionConstants'
import Dispatcher from 'dispatcher/Dispatcher'

class CurrentUserActions {
  action(action, args) { 
    action.method(Object.keys(args).map((key) => args[key]))
    .then((response) => {
        Dispatcher.dispatch({
          actiontype: action.value,
          response: response,
          args: args, 
        });
    });
  }

  register(name, email, password, confirmPassword) {
    this.action(ActionConstants.REGISTER, {name: name, email: email, password: password, confirmPassword: confirmPassword})
  }

  login(email, password) {
    this.action(ActionConstants.LOGIN, {email: email, password: password})
  }

  logout() {
    this.action(ActionConstants.LOGOUT, {})
  }

  addProject(url, deviceID) {
    this.action(ActionConstants.ADD_PROJECT, {url: url, deviceID: deviceID})
  }

  removeProject(url, deviceID) {
    this.action(ActionConstants.REMOVE_PROJECT, {url: url, deviceID: deviceID})
  }
}

export default CurrentUserActions;